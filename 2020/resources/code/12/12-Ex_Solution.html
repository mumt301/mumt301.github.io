<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>JS libraries - In Class Exercise</title>
    <link rel="stylesheet" href="https://minicss.org/flavorFiles/mini-default.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <script src=https://cdnjs.cloudflare.com/ajax/libs/pizzicato/0.6.1/Pizzicato.min.js></script> -->
    <script src=https://cdnjs.cloudflare.com/ajax/libs/pizzicato/0.6.1/Pizzicato.js></script>
    <style>
        #thereminZone {
            background-color: aqua;
            height: 200px;
            width: 400px;
            margin-left: 50px;
            margin-top: 50px;
        }
    </style>
</head>

<body id="body">

    <div id="thereminZone" onmousemove="thereminControl(event)" onmouseleave="thereminOff()"></div>

    <script>

        let sineWave = new Pizzicato.Sound({
            source: 'wave',
            options: {frequency: 220}
        });

        function thereminControl(e) {

            let x = e.clientX;
            let y = e.clientY;
            console.log(x, y);

            // bl:  50, 250
            // tr: 450,  50
            let coordX = (x-40) / 400;
            let coordY = (y-40) / 200;
            
            sineWave.frequency = 880 * coordX;
            console.log("Frequency: ", sineWave.frequency);
            sineWave.volume = coordY;
            console.log("Loudness: ", sineWave.volume);

            sineWave.play();
        }

        function thereminOff() {
            sineWave.stop();
        }
    </script>
</body>
</html>
